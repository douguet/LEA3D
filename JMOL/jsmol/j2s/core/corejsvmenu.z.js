(function(ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,m,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,j,Pa,Qa,Ra,Sa,Ta,s,Ua,v,M,N,Va,B,Wa,ca,Xa,O,Ya,P,da,ea,Za,C){if(!jQuery.ui)try{var g=jQuery,R=function(a,b){var c,d,e,f=a.nodeName.toLowerCase();return"area"===f?(c=a.parentNode,d=c.name,!a.href||!d||"map"!==c.nodeName.toLowerCase()?!1:(e=g("img[usemap=#"+d+"]")[0],!!e&&Q(e))):(/input|select|textarea|button|object/.test(f)?!a.disabled:"a"===f?a.href||b:b)&&Q(a)},Q=function(a){return g.expr.filters.visible(a)&&
!g(a).parents().andSelf().filter(function(){return"hidden"===g.css(this,"visibility")}).length},fa=0,ga=/^ui-id-\d+$/;g.ui=g.ui||{};if(!g.ui.version){g.extend(g.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});g.fn.extend({_focus:g.fn.focus,focus:function(a,b){return"number"==
typeof a?this.each(function(){var c=this;setTimeout(function(){g(c).focus();b&&b.call(c)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;return g.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?a=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(g.css(this,"position"))&&/(auto|scroll)/.test(g.css(this,"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"))}).eq(0):a=this.parents().filter(function(){return/(auto|scroll)/.test(g.css(this,
"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?g(document):a},zIndex:function(a){if(void 0!==a)return this.css("zIndex",a);if(this.length){a=g(this[0]);for(var b;a.length&&a[0]!==document;){b=a.css("position");if("absolute"===b||"relative"===b||"fixed"===b)if(b=parseInt(a.css("zIndex"),10),!isNaN(b)&&0!==b)return b;a=a.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++fa)})},removeUniqueId:function(){return this.each(function(){ga.test(this.id)&&
g(this).removeAttr("id")})}});g.extend(g.expr[":"],{data:g.expr.createPseudo?g.expr.createPseudo(function(a){return function(b){return!!g.data(b,a)}}):function(a,b,c){return!!g.data(a,c[3])},focusable:function(a){return R(a,!isNaN(g.attr(a,"tabindex")))},tabbable:function(a){var b=g.attr(a,"tabindex"),c=isNaN(b);return(c||0<=b)&&R(a,!c)}});g(function(){var a=document.body,b=a.appendChild(b=document.createElement("div"));b.offsetHeight;g.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});
g.support.minHeight=100===b.offsetHeight;g.support.selectstart="onselectstart"in b;a.removeChild(b).style.display="none"});g("<a>").outerWidth(1).jquery||g.each(["Width","Height"],function(a,b){function c(a,b,c,e){return g.each(d,function(){b-=parseFloat(g.css(a,"padding"+this))||0;c&&(b-=parseFloat(g.css(a,"border"+this+"Width"))||0);e&&(b-=parseFloat(g.css(a,"margin"+this))||0)}),b}var d="Width"===b?["Left","Right"]:["Top","Bottom"],e=b.toLowerCase(),f={innerWidth:g.fn.innerWidth,innerHeight:g.fn.innerHeight,
outerWidth:g.fn.outerWidth,outerHeight:g.fn.outerHeight};g.fn["inner"+b]=function(a){return void 0===a?f["inner"+b].call(this):this.each(function(){g(this).css(e,c(this,a)+"px")})};g.fn["outer"+b]=function(a,d){return"number"!=typeof a?f["outer"+b].call(this,a):this.each(function(){g(this).css(e,c(this,a,!0,d)+"px")})}});if(g("<a>").data("a-b","a").removeData("a-b").data("a-b")){var S=g.fn.removeData;g.fn.removeData=function(a){return arguments.length?S.call(this,g.camelCase(a)):S.call(this)}}var T=
/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];g.ui.ie=T.length?!0:!1;g.ui.ie6=6===parseFloat(T[1],10);g.fn.extend({disableSelection:function(){return this.bind((g.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});g.extend(g.ui,{plugin:{add:function(a,b,c){var d;a=g.ui[a].prototype;for(d in c)a.plugins[d]=a.plugins[d]||[],a.plugins[d].push([b,c[d]])},call:function(a,
b,c){var d=a.plugins[b];if(d&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;b<d.length;b++)a.options[d[b][0]]&&d[b][1].apply(a.element,c)}},contains:g.contains,hasScroll:function(a,b){if("hidden"===g(a).css("overflow"))return!1;var c=b&&"left"===b?"scrollLeft":"scrollTop";return 0<a[c]?!0:(a[c]=1,a[c]=0,!1)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(a,b,c,d,e,f){return g.ui.isOverAxis(a,c,e)&&g.ui.isOverAxis(b,d,f)}})}}catch($a){System.out.println("coremenu failed to load jQuery.ui.core -- jQuery version conflict?")}if(!jQuery.ui.widget)try{var h=
jQuery,ha=0,U=Array.prototype.slice,ia=h.cleanData;h.cleanData=function(a){for(var b=0,c;null!=(c=a[b]);b++)try{h(c).triggerHandler("remove")}catch(d){}ia(a)};h.widget=function(a,b,c){var d,e,f,k,g=a.split(".")[0];a=a.split(".")[1];d=g+"-"+a;c||(c=b,b=h.Widget);h.expr[":"][d.toLowerCase()]=function(a){return!!h.data(a,d)};h[g]=h[g]||{};e=h[g][a];f=h[g][a]=function(a,b){if(!this._createWidget)return new f(a,b);arguments.length&&this._createWidget(a,b)};h.extend(f,e,{version:c.version,_proto:h.extend({},
c),_childConstructors:[]});k=new b;k.options=h.widget.extend({},k.options);h.each(c,function(a,d){if(h.isFunction(d)){var e=function(){return b.prototype[a].apply(this,arguments)},f=function(c){return b.prototype[a].apply(this,c)};c[a]=function(){var a=this._super,b=this._superApply,c;return this._super=e,this._superApply=f,c=d.apply(this,arguments),this._super=a,this._superApply=b,c}}});f.prototype=h.widget.extend(k,{widgetEventPrefix:e?k.widgetEventPrefix:a},c,{constructor:f,namespace:g,widgetName:a,
widgetBaseClass:d,widgetFullName:d});e?(h.each(e._childConstructors,function(a,b){var c=b.prototype;h.widget(c.namespace+"."+c.widgetName,f,b._proto)}),delete e._childConstructors):b._childConstructors.push(f);h.widget.bridge(a,f)};h.widget.extend=function(a){for(var b=U.call(arguments,1),c=0,d=b.length,e,f;c<d;c++)for(e in b[c])f=b[c][e],b[c].hasOwnProperty(e)&&void 0!==f&&(h.isPlainObject(f)?a[e]=h.isPlainObject(a[e])?h.widget.extend({},a[e],f):h.widget.extend({},f):a[e]=f);return a};h.widget.bridge=
function(a,b){var c=b.prototype.widgetFullName||a;h.fn[a]=function(d){var e="string"==typeof d,f=U.call(arguments,1),k=this;return d=!e&&f.length?h.widget.extend.apply(null,[d].concat(f)):d,e?this.each(function(){var b,e=h.data(this,c);if(!e)return h.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+d+"'");if(!h.isFunction(e[d])||"_"===d.charAt(0))return h.error("no such method '"+d+"' for "+a+" widget instance");b=e[d].apply(e,f);if(b!==e&&void 0!==b)return k=
b&&b.jquery?k.pushStack(b.get()):b,!1}):this.each(function(){var a=h.data(this,c);a?a.option(d||{})._init():h.data(this,c,new b(d,this))}),k}};h.Widget=function(){};h.Widget._childConstructors=[];h.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,b){b=h(b||this.defaultElement||this)[0];this.element=h(b);this.uuid=ha++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=h.widget.extend({},this.options,
this._getCreateOptions(),a);this.bindings=h();this.hoverable=h();this.focusable=h();b!==this&&(h.data(b,this.widgetName,this),h.data(b,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===b&&this.destroy()}}),this.document=h(b.style?b.ownerDocument:b.document||b),this.window=h(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:h.noop,_getCreateEventData:h.noop,
_create:h.noop,_init:h.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(h.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:h.noop,widget:function(){return this.element},
option:function(a,b){var c=a,d,e,f;if(0===arguments.length)return h.widget.extend({},this.options);if("string"==typeof a)if(c={},d=a.split("."),a=d.shift(),d.length){e=c[a]=h.widget.extend({},this.options[a]);for(f=0;f<d.length-1;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];a=d.pop();if(void 0===b)return void 0===e[a]?null:e[a];e[a]=b}else{if(void 0===b)return void 0===this.options[a]?null:this.options[a];c[a]=b}return this._setOptions(c),this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);
return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,b,c){var d,e=this;"boolean"!=typeof a&&(c=b,b=a,a=!1);c?(b=d=h(b),this.bindings=this.bindings.add(b)):
(c=b,b=this.element,d=this.widget());h.each(c,function(c,k){function g(){if(a||!(!0===e.options.disabled||h(this).hasClass("ui-state-disabled")))return("string"==typeof k?e[k]:k).apply(e,arguments)}"string"!=typeof k&&(g.guid=k.guid=k.guid||g.guid||h.guid++);var j=c.match(/^(\w+)\s*(.*)$/),l=j[1]+e.eventNamespace;(j=j[2])?d.delegate(j,l,g):b.bind(l,g)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=
this;return setTimeout(function(){return("string"==typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){h(a.currentTarget).addClass("ui-state-hover")},mouseleave:function(a){h(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(a){h(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){h(a.currentTarget).removeClass("ui-state-focus")}})},
_trigger:function(a,b,c){var d,e=this.options[a];c=c||{};b=h.Event(b);b.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();b.target=this.element[0];if(a=b.originalEvent)for(d in a)d in b||(b[d]=a[d]);return this.element.trigger(b,c),!(h.isFunction(e)&&!1===e.apply(this.element[0],[b].concat(c))||b.isDefaultPrevented())}};h.each({show:"fadeIn",hide:"fadeOut"},function(a,b){h.Widget.prototype["_"+a]=function(c,d,e){"string"==typeof d&&(d={effect:d});var f,k=d?!0===d||"number"==
typeof d?b:d.effect||b:a;d=d||{};"number"==typeof d&&(d={duration:d});f=!h.isEmptyObject(d);d.complete=e;d.delay&&c.delay(d.delay);f&&h.effects&&(h.effects.effect[k]||!1!==h.uiBackCompat&&h.effects[k])?c[a](d):k!==a&&c[k]?c[k](d.duration,d.easing,e):c.queue(function(b){h(this)[a]();e&&e.call(c[0]);b()})}});!1!==h.uiBackCompat&&(h.Widget.prototype._getCreateOptions=function(){return h.metadata&&h.metadata.get(this.element[0])[this.widgetName]})}catch(ab){System.out.println("coremenu failed to load jQuery.ui.widget -- jQuery version conflict?")}if(!jQuery.ui.mouse)try{var r=
jQuery,D=!1;r(document).mouseup(function(){D=!1});r.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(!0===r.data(b.target,a.widgetName+".preventClickEvent"))return r.removeData(b.target,a.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName);this._mouseMoveDelegate&&r(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(a){if(!D){this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var b=this,c=1===a.which,d="string"==typeof this.options.cancel&&a.target.nodeName?r(a.target).closest(this.options.cancel).length:!1;if(!c||d||!this._mouseCapture(a))return!0;(this.mouseDelayMet=!this.options.delay)||(this._mouseDelayTimer=
setTimeout(function(){b.mouseDelayMet=!0},this.options.delay));return this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(a),!this._mouseStarted)?(a.preventDefault(),!0):(!0===r.data(a.target,this.widgetName+".preventClickEvent")&&r.removeData(a.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return b._mouseMove(a)},this._mouseUpDelegate=function(a){return b._mouseUp(a)},r(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+
this.widgetName,this._mouseUpDelegate),a.preventDefault(),D=!0,!0)}},_mouseMove:function(a){return!r.ui.ie||9<=document.documentMode||a.button?this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,a),this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted):this._mouseUp(a)},_mouseUp:function(a){return r(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+
this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&r.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}catch(bb){System.out.println("coremenu failed to load jQuery.ui.mouse -- jQuery version conflict?")}if(!jQuery.ui.position)try{var l=
jQuery,W=function(a,b,c){return[parseInt(a[0],10)*(V.test(a[0])?b/100:1),parseInt(a[1],10)*(V.test(a[1])?c/100:1)]};l.ui=l.ui||{};var E,z=Math.max,t=Math.abs,X=Math.round,Y=/left|center|right/,Z=/top|center|bottom/,$=/[\+\-]\d+%?/,aa=/^\w+/,V=/%$/,ja=l.fn.position;l.position={scrollbarWidth:function(){if(void 0!==E)return E;var a,b,c=l("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),d=c.children()[0];return l("body").append(c),
a=d.offsetWidth,c.css("overflow","scroll"),b=d.offsetWidth,a===b&&(b=c[0].clientWidth),c.remove(),E=a-b},getScrollInfo:function(a){var b=a.isWindow?"":a.element.css("overflow-x"),c=a.isWindow?"":a.element.css("overflow-y"),c="scroll"===c||"auto"===c&&a.height<a.element[0].scrollHeight;return{width:"scroll"===b||"auto"===b&&a.width<a.element[0].scrollWidth?l.position.scrollbarWidth():0,height:c?l.position.scrollbarWidth():0}},getWithinInfo:function(a){a=l(a||window);var b=l.isWindow(a[0]);return{element:a,
isWindow:b,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:b?a.width():a.outerWidth(),height:b?a.height():a.outerHeight()}}};l.fn.position=function(a){if(!a||!a.of)return ja.apply(this,arguments);a=l.extend({},a);var b,c,d,e,f,k=l(a.of),h=l.position.getWithinInfo(a.within),g=l.position.getScrollInfo(h),j=k[0],m=(a.collision||"flip").split(" "),n={};return 9===j.nodeType?(c=k.width(),d=k.height(),e={top:0,left:0}):l.isWindow(j)?(c=k.width(),d=k.height(),e=
{top:k.scrollTop(),left:k.scrollLeft()}):j.preventDefault?(a.at="left top",c=d=0,e={top:j.pageY,left:j.pageX}):(c=k.outerWidth(),d=k.outerHeight(),e=k.offset()),f=l.extend({},e),l.each(["my","at"],function(){var b=(a[this]||"").split(" "),c,d;1===b.length&&(b=Y.test(b[0])?b.concat(["center"]):Z.test(b[0])?["center"].concat(b):["center","center"]);b[0]=Y.test(b[0])?b[0]:"center";b[1]=Z.test(b[1])?b[1]:"center";c=$.exec(b[0]);d=$.exec(b[1]);n[this]=[c?c[0]:0,d?d[0]:0];a[this]=[aa.exec(b[0])[0],aa.exec(b[1])[0]]}),
1===m.length&&(m[1]=m[0]),"right"===a.at[0]?f.left+=c:"center"===a.at[0]&&(f.left+=c/2),"bottom"===a.at[1]?f.top+=d:"center"===a.at[1]&&(f.top+=d/2),b=W(n.at,c,d),f.left+=b[0],f.top+=b[1],this.each(function(){var j,p,r=l(this),w=r.outerWidth(),s=r.outerHeight(),u=parseInt(l.css(this,"marginLeft"),10)||0,v=parseInt(l.css(this,"marginTop"),10)||0,x=w+u+(parseInt(l.css(this,"marginRight"),10)||0)+g.width,y=s+v+(parseInt(l.css(this,"marginBottom"),10)||0)+g.height,q=l.extend({},f),A=W(n.my,r.outerWidth(),
r.outerHeight());"right"===a.my[0]?q.left-=w:"center"===a.my[0]&&(q.left-=w/2);"bottom"===a.my[1]?q.top-=s:"center"===a.my[1]&&(q.top-=s/2);q.left+=A[0];q.top+=A[1];l.support.offsetFractions||(q.left=X(q.left),q.top=X(q.top));j={marginLeft:u,marginTop:v};l.each(["left","top"],function(e,f){l.ui.position[m[e]]&&l.ui.position[m[e]][f](q,{targetWidth:c,targetHeight:d,elemWidth:w,elemHeight:s,collisionPosition:j,collisionWidth:x,collisionHeight:y,offset:[b[0]+A[0],b[1]+A[1]],my:a.my,at:a.at,within:h,
elem:r})});l.fn.bgiframe&&r.bgiframe();a.using&&(p=function(b){var f=e.left-q.left,h=f+c-w,g=e.top-q.top,j=g+d-s,l={target:{element:k,left:e.left,top:e.top,width:c,height:d},element:{element:r,left:q.left,top:q.top,width:w,height:s},horizontal:0>h?"left":0<f?"right":"center",vertical:0>j?"top":0<g?"bottom":"middle"};c<w&&t(f+h)<c&&(l.horizontal="center");d<s&&t(g+j)<d&&(l.vertical="middle");z(t(f),t(h))>z(t(g),t(j))?l.important="horizontal":l.important="vertical";a.using.call(this,b,l)});r.offset(l.extend(q,
{using:p}))})};l.ui.position={fit:{left:function(a,b){var c=b.within,d=c.isWindow?c.scrollLeft:c.offset.left,c=c.width,e=a.left-b.collisionPosition.marginLeft,f=d-e,k=e+b.collisionWidth-c-d,g;b.collisionWidth>c?0<f&&0>=k?(g=a.left+f+b.collisionWidth-c-d,a.left+=f-g):0<k&&0>=f?a.left=d:f>k?a.left=d+c-b.collisionWidth:a.left=d:0<f?a.left+=f:0<k?a.left-=k:a.left=z(a.left-e,a.left)},top:function(a,b){var c=b.within,c=c.isWindow?c.scrollTop:c.offset.top,d=b.within.height,e=a.top-b.collisionPosition.marginTop,
f=c-e,k=e+b.collisionHeight-d-c,g;b.collisionHeight>d?0<f&&0>=k?(g=a.top+f+b.collisionHeight-d-c,a.top+=f-g):0<k&&0>=f?a.top=c:f>k?a.top=c+d-b.collisionHeight:a.top=c:0<f?a.top+=f:0<k?a.top-=k:a.top=z(a.top-e,a.top)}},flip:{left:function(a,b){var c=b.within,d=c.offset.left+c.scrollLeft,e=c.width,f=c.isWindow?c.scrollLeft:c.offset.left,k=a.left-b.collisionPosition.marginLeft,c=k-f,g=k+b.collisionWidth-e-f,k="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,h="left"===b.at[0]?b.targetWidth:
"right"===b.at[0]?-b.targetWidth:0,j=-2*b.offset[0];if(0>c){if(d=a.left+k+h+j+b.collisionWidth-e-d,0>d||d<t(c))a.left+=k+h+j}else if(0<g&&(d=a.left-b.collisionPosition.marginLeft+k+h+j-f,0<d||t(d)<g))a.left+=k+h+j},top:function(a,b){var c=b.within,d=c.offset.top+c.scrollTop,e=c.height,c=c.isWindow?c.scrollTop:c.offset.top,f=a.top-b.collisionPosition.marginTop,k=f-c,f=f+b.collisionHeight-e-c,g="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,h="top"===b.at[1]?b.targetHeight:"bottom"===
b.at[1]?-b.targetHeight:0,j=-2*b.offset[1],l,m;0>k?(m=a.top+g+h+j+b.collisionHeight-e-d,a.top+g+h+j>k&&(0>m||m<t(k))&&(a.top+=g+h+j)):0<f&&(l=a.top-b.collisionPosition.marginTop+g+h+j-c,a.top+g+h+j>f&&(0<l||t(l)<f)&&(a.top+=g+h+j))}},flipfit:{left:function(){l.ui.position.flip.left.apply(this,arguments);l.ui.position.fit.left.apply(this,arguments)},top:function(){l.ui.position.flip.top.apply(this,arguments);l.ui.position.fit.top.apply(this,arguments)}}};var u,x,y,F,G,H=document.getElementsByTagName("body")[0],
I=document.createElement("div");u=document.createElement(H?"div":"body");y={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};H&&l.extend(y,{position:"absolute",left:"-1000px",top:"-1000px"});for(G in y)u.style[G]=y[G];u.appendChild(I);x=H||document.documentElement;x.insertBefore(u,x.firstChild);I.style.cssText="position: absolute; left: 10.7432222px;";F=l(I).offset().left;l.support.offsetFractions=10<F&&11>F;u.innerHTML="";x.removeChild(u);if(!1!==l.uiBackCompat){var K=jQuery,
ba=K.fn.position;K.fn.position=function(a){if(!a||!a.offset)return ba.call(this,a);var b=a.offset.split(" "),c=a.at.split(" ");return 1===b.length&&(b[1]=b[0]),/^\d/.test(b[0])&&(b[0]="+"+b[0]),/^\d/.test(b[1])&&(b[1]="+"+b[1]),1===c.length&&(/left|center|right/.test(c[0])?c[1]="center":(c[1]=c[0],c[0]="center")),ba.call(this,K.extend(a,{at:c[0]+b[0]+" "+c[1]+b[1],offset:void 0}))}}}catch(cb){System.out.println("coremenu failed to load jQuery.ui.position -- jQuery version conflict?")}if(!jQuery.ui.menu)try{var n=
jQuery,L=!1;n.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,n.proxy(function(a){this.options.disabled&&
a.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(a){var b=n(a.target).closest(".ui-menu-item");!L&&b.not(".ui-state-disabled").length&&(L=!0,this.select(a),b.has(".ui-menu").length?this.expand(a):this.element.is(":focus")||(this.element.trigger("focus",[!0]),
this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(a){var b=n(a.currentTarget);b.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(a,b)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,c)},blur:function(a){this._delay(function(){n.contains(this.element[0],this.document[0].activeElement)||
this.collapseAll(a)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(a){n(a.target).closest(".ui-menu").length||this.collapseAll(a);L=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var a=n(this);a.data("ui-menu-submenu-carat")&&a.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(a){function b(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var c,d,e,f,g=!0;switch(a.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(a);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(a);break;case n.ui.keyCode.HOME:this._move("first","first",a);break;case n.ui.keyCode.END:this._move("last","last",a);break;case n.ui.keyCode.UP:this.previous(a);break;case n.ui.keyCode.DOWN:this.next(a);break;case n.ui.keyCode.LEFT:this.collapse(a);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(a);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(a);
break;case n.ui.keyCode.ESCAPE:this.collapse(a);break;default:g=!1,c=this.previousFilter||"",d=String.fromCharCode(a.keyCode),e=!1,clearTimeout(this.filterTimer),d===c?e=!0:d=c+d,f=RegExp("^"+b(d),"i"),c=this.activeMenu.children(".ui-menu-item").filter(function(){return f.test(n(this).children("a").text())}),c=e&&-1!==c.index(this.active.next())?this.active.nextAll(".ui-menu-item"):c,c.length||(d=String.fromCharCode(a.keyCode),f=RegExp("^"+b(d),"i"),c=this.activeMenu.children(".ui-menu-item").filter(function(){return f.test(n(this).children("a").text())})),
c.length?(this.focus(a,c),1<c.length?(this.previousFilter=d,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}g&&a.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var a,b=this.options.icons.submenu;a=this.element.find(this.options.menus);a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,
"aria-hidden":"true","aria-expanded":"false"}).each(function(){var a=n(this),d=a.prev("a"),e=n("<span>").addClass("ui-menu-icon ui-icon "+b).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(e);a.attr("aria-labelledby",d.attr("id"))});a=a.add(this.element);a.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});a.children(":not(.ui-menu-item)").each(function(){var a=
n(this);/[^\-\u00e2\u20ac\u201d\u00e2\u20ac\u201c\s]/.test(a.text())||a.addClass("ui-widget-content ui-menu-divider")});a.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(a,b){var c;this.blur(a,a&&"focus"===a.type);this._scrollIntoView(b);this.active=b.first();c=this.active.children("a").addClass("ui-state-focus");this.options.role&&
this.element.attr("aria-activedescendant",c.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);c=b.children(".ui-menu");c.length&&/^mouse/.test(a.type)&&this._startOpening(c);this.activeMenu=b.parent();this._trigger("focus",a,{item:b})},_scrollIntoView:function(a){var b,c,d,e,f,g;this._hasScroll()&&(b=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||
0,c=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,d=a.offset().top-this.activeMenu.offset().top-b-c,e=this.activeMenu.scrollTop(),f=this.activeMenu.height(),g=a.height(),0>d?this.activeMenu.scrollTop(e+d):d+g>f&&this.activeMenu.scrollTop(e+d-f+g))},blur:function(a,b){b||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&
(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(a){var b=n.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(a.parents(".ui-menu")).hide().attr("aria-hidden","true");a.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(b)},collapseAll:function(a,b){clearTimeout(this.timer);this.timer=this._delay(function(){var c=b?this.element:n(a&&a.target).closest(this.element.find(".ui-menu"));
c.length||(c=this.element);this._close(c);this.blur(a);this.activeMenu=c},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();
b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&("first"===a||"last"===a?d=this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):d=this.active[a+
"All"](".ui-menu-item").eq(0));if(!d||!d.length||!this.active)d=this.activeMenu.children(".ui-menu-item")[b]();this.focus(c,d)},nextPage:function(a){var b,c,d;this.active?this.isLastItem()||(this._hasScroll()?(c=this.active.offset().top,d=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return b=n(this),0>b.offset().top-c-d}),this.focus(a,b)):this.focus(a,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(a)},previousPage:function(a){var b,
c,d;this.active?this.isFirstItem()||(this._hasScroll()?(c=this.active.offset().top,d=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return b=n(this),0<b.offset().top-c+d}),this.focus(a,b)):this.focus(a,this.activeMenu.children(".ui-menu-item").first())):this.next(a)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(a){this.active=this.active||n(a.target).closest(".ui-menu-item");var b={item:this.active};this.active.has(".ui-menu").length||
this.collapseAll(a,!0);this._trigger("select",a,b)}})}catch(db){System.out.println("JSmolMenu failed to load jQuery.ui.menu -- jQuery version conflict?")}Jmol.Menu||(Jmol.Menu={_menuCounter:0});var p=Jmol.Menu;p._getID||(p._getID=function(a,b){return a._id+"_"+b+"_"+ ++p._menuCounter},p._style="  .jmolPopupMenu{font-family:Arial,sans-serif;font-size:11px;position:absolute;z-index:"+Jmol._z.menu+'}  .jmolPopupMenu,.jmolPopupMenu .ui-corner-all{border-radius:5px}  .jmolPopupMenu,.jmolPopupMenu .ui-widget-content{border:1px solid #a6c9e2;background-color:#fcfdfd;color:#222}  .jmolPopupMenu a{color:#222;font-size:10px;}  .jmolPopupMenu input[type="checkbox"]{vertical-align:middle;}  .jmolPopupMenu,.jmolPopupMenu .ui-menu{list-style:none;padding:2px;margin:0;display:block;outline:none;box-shadow:1px 1px 5px rgba(50,50,50,0.75)}  .jmolPopupMenu .ui-menu{margin-top:-3px;position:absolute}  .jmolPopupMenu .ui-menu-item{cursor:pointer;margin:0 2ex 0 0;padding:0;width:100%}  .jmolPopupMenu .ui-menu-divider{margin:3px 1px;height:0;font-size:0;line-height:0;border-width:1px 0 0 0}  .jmolPopupMenu .ui-menu-item a{text-decoration:none;display:block;padding:0.05em 0.4em;white-space:nowrap;border:1px solid transparent}  .jmolPopupMenu .ui-menu-icons{position:relative}  .jmolPopupMenu .ui-menu-icons .ui-menu-item a{position:relative;padding-left:2em}  .jmolPopupMenu .ui-icon{display:block;text-indent:-99999px;overflow:hidden;background-repeat:no-repeat;position:absolute;top:.2em;left:.2em}  .jmolPopupMenu .ui-menu-icon{position:static;float:right}  .jmolPopupMenu .ui-icon-carat-1-e{min-width:2ex;text-align:right;background-image:none;background-position:0 0}  .jmolPopupMenu .ui-icon-carat-1-e:after{content:"\\25B8"}  .jmolPopupMenu .ui-state-default{border:1px solid #c5dbec;background:#dfeffc;color:#2e6e9e}  .jmolPopupMenu .ui-state-default a{color:#2e6e9e;text-decoration:none}  .jmolPopupMenu .ui-state-hover,.jmolPopupMenu .ui-state-focus{border:1px solid #79b7e7;background:#d0e5f5;color:#1d5987}  .jmolPopupMenu .ui-state-hover a{color:#1d5987;text-decoration:none}  .jmolPopupMenu .ui-state-active{border:1px solid #79b7e7;background:#f5f8f9;color:#e17009}  .jmolPopupMenu .ui-state-active a{color:#e17009;text-decoration:none}  .jmolPopupMenu .ui-state-highlight{border:1px solid #fad42e;background:#fbec88;color:#363636}  .jmolPopupMenu .ui-state-highlight a{color:#363636}  .jmolPopupMenu .ui-state-disabled *{color:#d6d6d6!important;font-weight:normal;cursor:default}  .jmolPopupMenu .ui-state-disabled a:hover{background-color:transparent!important;border-color:transparent!important}  .jmolPopupMenu .ui-state-disabled .ui-icon{filter:Alpha(Opacity=35)}',
p.PopupMenu=function(a,b){p._style&&Jmol.$after("head","<style>"+p._style+"</style>");p._style=null;this.applet=a;this.id=p._getID(a,b+"_top");this.name=b;this.items=[];this.tainted=this.enabled=!0;this.applet=a;a._popups||(a._popups={});a._popups[b]=this;Jmol.$after("body",'<ul id="'+this.id+'" class="jmolPopupMenu"></ul>');this.setContainer(Jmol.$("#"+this.id))},p.PopupMenu.prototype.dispose=function(){this.hide();delete this.applet._popups[this.name]},p.PopupMenu.prototype.hide=function(){this.visible&&
(this.container.unbind("clickoutjsmol"),this.dragBind(!1),this.container.hide(),this.visible=this.isDragging=!1)},p.PopupMenu.prototype.menuShowPopup=function(){if(this.tainted){var a=this.html();this.container.html(a);this.tainted=!1;this.bindActionCommands()}this.setPosition();this.container.hide().menu().menu("refresh").show();this.visible=!0;this.timestamp=System.currentTimeMillis();this.container.unbind("clickoutjsmol");this.dragBind(!0);var b=this;this.container.bind("clickoutjsmol",function(){100<
System.currentTimeMillis()-b.timestamp&&b.hide()});this.container.bind("contextmenu",function(){return!1})},Jmol._setDraggable(p.PopupMenu),p.SubMenu=function(a,b){this.applet=a.applet;this.text=b;this.enabled=!0;this.id=p._getID(a.applet,a.name+"m");this.popupMenu=a;this.isMenu=!0;this.items=[]},p.MenuItem=function(a,b,c,d){this.applet=a.applet;this.text=b;this.enabled=!0;this.id=p._getID(a.applet,a.name+(c?"cb":d?"rb":"i"));this.popupMenu=a;this.isCheckBox=c;this.isRadio=d},p.ButtonGroup=function(a){this.id=
p._getID(a.applet,a.name+"bg");this.add=function(a){a.htmlName=this.id}},p.setItemProto=function(a){a.setSelected=function(a){this.selected=a};a.isSelected=function(){return this.selected};a.setName=function(a){this.name=a};a.getName=function(){return this.name};a.addActionListener=function(a){this.actionListener=a};a.addItemListener=function(a){this.itemListener=a};a.addMouseListener=function(a){this.mouseListener=a};a.bindActionCommands=function(){var a=this;Jmol.$documentOff("click",this.id);Jmol.$documentOn("click",
this.id,function(){a.actionListener?(a.popupMenu.hide(),a.actionListener.checkMenuClick(a,a.script)):a.itemListener&&(a.selected=a.isCheckBox?Jmol.$prop(a.id+"-cb","checked"):!0,a.itemListener.checkBoxStateChanged(a))})};a.setEnabled=function(a){this.enabled=a};a.setIcon=function(a){this.icon=a};a.setText=function(a){this.text=a};a.setActionCommand=function(a){this.script=a};a.getActionCommand=function(){return this.script};a.html=function(){var a='<li id="ID" class="'+(this.enabled?"":"ui-state-disabled")+
'">';this.text&&(a+="<a>");this.isCheckBox?a+='<input id="ID-cb" type="checkbox" '+(this.selected?"checked":"")+' /><label for="ID-cb">TeXt</label>':this.isRadio?a+='<input id="ID-rb" type="radio" name="'+this.htmlName+'" '+(this.selected?"checked":"")+' /><label for="ID-rb">TeXt</label>':this.text&&(a+="TeXt");a=a.replace(/ID/g,this.id);this.text&&(a=a.replace(/TeXt/,this.text)+"</a>");return a+"</li>"}},p.setMenuProto=function(a){p.setItemProto(a);a.add=function(a){this.items.push(a);a.parent=this};
a.removeAll=function(a){if(0==a)this.items=[];else{for(var c=[],d=0;d<a;d++){var e=this.items[d];c.push(e);e.parent=this}this.items=c}};a.setAutoscrolls=function(){};a.getComponents=function(){return this.items};a.getItemCount=function(){return this.items.length};a.html=function(){for(var a=this.text?this.text:this.icon?'<img src="'+this.applet._j2sPath+"/"+this.icon+'" style="max-height: 20px;" />':null,c=a?"<li><a>"+a+'</a><ul id="'+this.id+'" class="'+(this.enabled?"":"ui-state-disabled")+'">':
"",d=0;d<this.items.length;d++)this.items[d].html&&(c+=this.items[d].html());a&&(c+="</ul></li>");return c};a.bindActionCommands=function(){for(var a=0;a<this.items.length;a++)this.items[a].bindActionCommands&&this.items[a].bindActionCommands()}},p.setMenuProto(p.PopupMenu.prototype),p.setMenuProto(p.SubMenu.prototype),p.setItemProto(p.MenuItem.prototype),p.hidePopups=function(a){for(var b in a)a[b].hide()});s("JSV.js2d");v(["JSV.popup.JSVGenericPopup"],"JSV.js2d.JsPopup",["JSV.popup.JSVPopupResourceBundle"],
function(){c$=P(JSV.js2d,"JsPopup",JSV.popup.JSVGenericPopup);B(c$,function(){ea(this,JSV.js2d.JsPopup,[])});j(c$,"jpiInitialize",function(a,b){var c=new JSV.popup.JSVPopupResourceBundle;this.initialize(a,c,b)},"javajs.api.PlatformViewer,~S");m(c$,"updateButton",function(a,b,c){var d=[b];b=d[0];d=this.getEntryIcon(d);null!=d&&a.setIcon(d);null!=b&&a.setText(b);null!=c&&a.setActionCommand(c);this.thisPopup.tainted=!0},"~O,~S,~S");m(c$,"newMenuItem",function(a,b,c,d,e){this.updateButton(b,c,d);null!=
e&&e.startsWith("Focus")&&(b.addMouseListener(this),e=a.getName()+"."+e);b.setName(null==e?a.getName()+".":e);this.menuAddItem(a,b);return b},"~O,~O,~S,~S,~S");j(c$,"menuAddButtonGroup",function(a){null==this.buttonGroup&&(this.buttonGroup=new Jmol.Menu.ButtonGroup(this.thisPopup));this.buttonGroup.add(a)},"~O");j(c$,"menuAddItem",function(a,b){a.add(b);this.thisPopup.tainted=!0},"~O,~O");j(c$,"menuAddSeparator",function(a){a.add(new Jmol.Menu.MenuItem(this.thisPopup,null,!1,!1));this.thisPopup.tainted=
!0},"~O");j(c$,"menuAddSubMenu",function(a,b){this.menuAddItem(a,b)},"~O,~O");j(c$,"menuClearListeners",function(a){a.dispose()},"~O");j(c$,"menuCreateCheckboxItem",function(a,b,c,d,e,f){var g=null,g=new Jmol.Menu.MenuItem(this.thisPopup,b,!f,f);g.setSelected(e);g.addItemListener(this);return this.newMenuItem(a,g,b,c,d)},"~O,~S,~S,~S,~B,~B");j(c$,"menuCreateItem",function(a,b,c,d){var e=null,e=new Jmol.Menu.MenuItem(this.thisPopup,b);e.addActionListener(this);return this.newMenuItem(a,e,b,c,d)},"~O,~S,~S,~S");
j(c$,"menuCreatePopup",function(a){return new Jmol.Menu.PopupMenu(this.viewer.applet,a)},"~S");j(c$,"menuEnable",function(a,b){if(a.isItem)this.menuEnableItem(a,b);else{try{a.setEnabled(b)}catch(c){}this.thisPopup.tainted=!0}},"~O,~B");j(c$,"menuEnableItem",function(a,b){try{a.setEnabled(b)}catch(c){}this.thisPopup.tainted=!0},"~O,~B");j(c$,"menuGetAsText",function(a,b,c,d){c=c.getComponents();for(var e=0;e<c.length;e++){var f=c[e],g=null;if(f.isMenu)d=f.getName(),g="enabled:"+f.isEnabled(),this.addItemText(a,
"M",b,d,f.getText(),null,g),this.menuGetAsText(a,b+1,f.getPopupMenu(),d);else if(f.isItem){g="enabled:"+f.isEnabled();f.isCheckBox&&(g+=";checked:"+f.getState());var h=this.fixScript(f.getName(),f.getActionCommand());this.addItemText(a,"I",b,f.getName(),f.getText(),h,g)}else this.addItemText(a,"S",b,d,null,null,null)}},"JU.SB,~N,~O,~S");j(c$,"menuGetId",function(a){return a.getName()},"~O");j(c$,"menuGetItemCount",function(a){return a.getItemCount()},"~O");j(c$,"menuGetParent",function(a){return a.getParent()},
"~O");j(c$,"menuGetPosition",function(a){var b=menuGetParent(a);if(null!=b)for(var c=b.getItemCount();0<=--c;)if(b.getItem(c)==a)return;c;return-1},"~O");j(c$,"menuInsertSubMenu",function(){},"~O,~O,~N");j(c$,"menuNewSubMenu",function(a,b){var c=new Jmol.Menu.SubMenu(this.thisPopup,a);this.updateButton(c,a,null);c.setName(b);c.setAutoscrolls(!0);return c},"~S,~S");j(c$,"menuRemoveAll",function(a,b){a.removeAll(b);this.thisPopup.tainted=!0},"~O,~N");j(c$,"menuSetAutoscrolls",function(a){a.setAutoscrolls(!0);
this.thisPopup.tainted=!0},"~O");j(c$,"menuSetCheckBoxState",function(a,b){a.setSelected(b);this.thisPopup.tainted=!0},"~O,~B");j(c$,"menuSetCheckBoxOption",function(){return null},"~O,~S,~S");j(c$,"menuSetCheckBoxValue",function(a){this.setCheckBoxValue(a,a.getActionCommand(),a.isSelected());this.thisPopup&&(this.thisPopup.tainted=!0)},"~O");j(c$,"menuSetLabel",function(a,b){a.setText(b);this.thisPopup.tainted=!0},"~O,~S");j(c$,"menuSetListeners",function(){});j(c$,"menuShowPopup",function(a,b,c){a.menuShowPopup(b,
c)},"~O,~N,~N");j(c$,"updateSpecialMenuItem",function(a){a.setText(this.getSpecialLabel(a.getName(),a.getText()))},"~O");j(c$,"menuIsEnabled",function(a){return a.isEnabled()},"~O")});s("JSV.popup");v(["JSV.api.JSVAbstractMenu","$.JSVPopupMenu","java.util.Hashtable","$.Properties","JU.List"],"JSV.popup.JSVGenericPopup","java.util.StringTokenizer JU.PT $.SB JSV.common.Annotation $.JSVersion JSV.popup.JSVPopupResourceBundle J.util.Logger".split(" "),function(){c$=N(function(){this.strMenuStructure=
this.currentMenuItemId=this.buttonGroup=this.menuText=this.htCheckbox=this.viewer=null;this.updateMode=0;this.AppletOnly=this.SignedOnly=this.htMenus=this.thisPopup=this.popupMenu=this.menuName=null;this.isSigned=this.isApplet=this.isJS=this.allowSignedFeatures=!1;this.hnmrPeaks=this.cnmrPeaks=null;this.aboutComputedMenuBaseCount=0;this.zoomEnabled=this.allowMenu=!1;this.pd=null;this.thisY=this.thisX=0;this.thisJsvp=null;M(this,arguments)},JSV.popup,"JSVGenericPopup",null,[JSV.api.JSVPopupMenu,JSV.api.JSVAbstractMenu]);
da(c$,function(){this.htCheckbox=new java.util.Hashtable;this.menuText=new java.util.Properties;this.htMenus=new java.util.Hashtable;this.SignedOnly=new JU.List;this.AppletOnly=new JU.List});B(c$,function(){});m(c$,"initialize",function(a,b,c){this.viewer=a;this.menuName=c;this.thisPopup=this.popupMenu=this.menuCreatePopup(c);this.menuSetListeners();this.htMenus.put(c,this.popupMenu);this.isJS=a.isJS;this.allowSignedFeatures=!a.isApplet||a.isSigned;this.addMenuItems("",c,this.popupMenu,b);try{this.jpiUpdateComputedMenus()}catch(d){if(ca(d,
NullPointerException))System.out.println("JSVGenericPopup error "+d);else throw d;}},"JSV.common.JSViewer,JSV.popup.PopupResource,~S");j(c$,"jpiDispose",function(){this.menuClearListeners(this.popupMenu);this.popupMenu=this.thisPopup=null});j(c$,"jpiGetMenuAsObject",function(){return this.popupMenu});j(c$,"jpiGetMenuAsString",function(a){this.updateForShow();var b=a.indexOf("|");if(0<=b){var c=a.substring(b);a=a.substring(0,b);if(0<=c.indexOf("current"))return a=new JU.SB,b=this.htMenus.get(this.menuName),
this.menuGetAsText(a,0,b,"PopupMenu"),a.toString()}return(new JSV.popup.JSVPopupResourceBundle).getMenuAsText(a)},"~S");j(c$,"jpiShow",function(a,b){this.show(a,b,!1);this.restorePopupMenu();this.menuShowPopup(this.popupMenu,this.thisX,this.thisY)},"~N,~N");j(c$,"jpiUpdateComputedMenus",function(){-1!=this.updateMode&&(this.updateMode=0,this.getViewerData(),this.updateFileMenu(),this.updateFileTypeDependentMenus(),this.updateMode=1,this.updateAboutSubmenu())});m(c$,"getEntryIcon",function(a){var b=
a[0];if(!b.startsWith("<"))return null;var c=b.indexOf(">");a[0]=b.substring(c+1);a=b.substring(1,c);return this.getImageIcon(a)},"~A");m(c$,"getImageIcon",function(){return null},"~S");m(c$,"checkBoxStateChanged",function(a){this.restorePopupMenu();this.menuSetCheckBoxValue(a);a=this.menuGetId(a);null!=a&&(this.currentMenuItemId=a)},"~O");c$.addItemText=m(c$,"addItemText",function(a,b,c,d,e,f,g){a.appendC(b).appendI(c).appendC("\t").append(d);null==e?a.append(".\n"):a.append("\t").append(e).append("\t").append(null==
f||0==f.length?"-":f).append("\t").append(g).append("\n")},"JU.SB,~S,~N,~S,~S,~S,~S");m(c$,"fixScript",function(a,b){return b},"~S,~S");m(c$,"restorePopupMenu",function(){this.thisPopup=this.popupMenu});m(c$,"setCheckBoxValue",function(a,b,c){this.checkForCheckBoxScript(a,b,c)},"~O,~S,~B");m(c$,"getViewerData",function(){this.isApplet=this.viewer.isApplet;this.isSigned=this.viewer.isSigned});m(c$,"updateFileTypeDependentMenus",function(){for(var a=this.SignedOnly.size();0<=--a;)this.menuEnable(this.SignedOnly.get(a),
this.isSigned||!this.isApplet);for(a=this.AppletOnly.size();0<=--a;)this.menuEnable(this.AppletOnly.get(a),this.isApplet)});m(c$,"addMenuItems",function(a,b,c,d){a=a+"."+b;var e=d.getStructure(b);J.util.Logger.debugging&&J.util.Logger.debug(a+" --- "+e);if(null==e)this.menuCreateItem(c,"#"+b,"","");else{b=new java.util.StringTokenizer(e);for(var f;0<=e.indexOf("@");){for(e="";b.hasMoreTokens();)e+=" "+((f=b.nextToken()).startsWith("@")?d.getStructure(f):f);e=e.substring(1);b=new java.util.StringTokenizer(e)}for(;b.hasMoreTokens();)if(f=
b.nextToken(),this.checkKey(f)){var e=d.getWord(f),g=null,g="",h=!1,e=this.fixLabel(null==e?f:e);if(!e.equals("null")){if(0<=f.indexOf("Menu"))0>f.indexOf("more")&&(this.buttonGroup=null),e=this.menuNewSubMenu(e,a+"."+f),this.menuAddSubMenu(c,e),this.htMenus.put(f,e),0>f.indexOf("Computed")&&this.addMenuItems(a,f,e,d),g=e;else if("-".equals(f)){this.menuAddSeparator(c);continue}else if(f.contains("CB")||f.contains("RD")){var h=!0,g=d.getStructure(f),j=e,h=h&&f.contains("RD"),g=this.menuCreateCheckboxItem(c,
e,j+":"+g,a+"."+f,!1,h);this.rememberCheckbox(j,g);h&&this.menuAddButtonGroup(g)}else{g=d.getStructure(f);null==g&&(g=f);if(!this.isJS&&f.contains("JS"))continue;g=this.menuCreateItem(c,e,g,a+"."+f)}!this.allowSignedFeatures&&f.contains("SIGNED")&&this.menuEnable(g,!1);f.startsWith("SIGNED")&&this.SignedOnly.addLast(g);this.htMenus.put(f,g)}}}},"~S,~S,~O,JSV.popup.PopupResource");m(c$,"fixLabel",function(a){a.startsWith("_")?a=a.substring(a.indexOf("_",2)+1):a.equals("VERSION")&&(a=JSV.common.JSVersion.VERSION);
a=JU.PT.rep(a,"CB","");a=JU.PT.rep(a,"Menu","");return a=JU.PT.rep(a,"_"," ")},"~S");m(c$,"checkKey",function(a){return 0>a.indexOf("JAVA")&&!(a.indexOf("NOGL")&&this.viewer.isWebGL)},"~S");m(c$,"rememberCheckbox",function(a,b){this.htCheckbox.put(a+"::"+this.htCheckbox.size(),b)},"~S,~O");m(c$,"checkForCheckBoxScript",function(a,b,c){if(this.menuIsEnabled(a)){if(0>b.indexOf("##")){var d=b.indexOf(":");if(0>d){J.util.Logger.error("check box "+a+" IS "+b);return}var e=b.substring(0,d);if(e.endsWith("P!"))if(0<=
e.indexOf("??"))b=this.menuSetCheckBoxOption(a,e,b);else{if(!c)return;b="set picking "+e.substring(0,e.length-2)}else{b=b.substring(d+1);if(0<=(d=b.indexOf("|")))b=(c?b.substring(0,d):b.substring(d+1)).trim();b=JU.PT.rep(b,"T/F",c?" TRUE":" FALSE")}}this.viewer.runScript(b)}},"~O,~S,~B");j(c$,"checkMenuClick",function(a,b){this.checkMenuClickGP(a,b)},"~O,~S");m(c$,"checkMenuClickGP",function(a,b){this.restorePopupMenu();if(!(null==b||0==b.length)){var c=this.menuGetId(a);null!=c&&(b=this.fixScript(c,
b),this.currentMenuItemId=c);this.viewer.runScript(b)}},"~O,~S");m(c$,"updateFileMenu",function(){this.htMenus.get("fileMenu")});m(c$,"updateSpectraMenu",function(){var a=this.htMenus.get("hnmrMenu"),b=this.htMenus.get("cnmrMenu");null!=a&&this.menuRemoveAll(a,0);null!=b&&this.menuRemoveAll(b,0);var c=this.htMenus.get("spectraMenu");if(null!=c){this.menuRemoveAll(c,0);var d=(new Boolean(this.setSpectraMenu(a,this.hnmrPeaks)|this.setSpectraMenu(b,this.cnmrPeaks))).valueOf();d&&(null!=a&&this.menuAddSubMenu(c,
a),null!=b&&this.menuAddSubMenu(c,b));this.menuEnable(c,d)}});m(c$,"setSpectraMenu",function(a,b){if(null==a)return!1;this.menuEnable(a,!1);var c=null==b?0:b.size();if(0==c)return!1;for(var d=0;d<c;d++){var e=b.get(d),f=JU.PT.getQuotedAttribute(e,"title"),e=JU.PT.getQuotedAttribute(e,"atoms");null!=e&&this.menuCreateItem(a,f,"select visible & (@"+JU.PT.rep(e,","," or @")+")","Focus"+d)}this.menuEnable(a,!0);return!0},"~O,JU.List");m(c$,"updateAboutSubmenu",function(){var a=this.htMenus.get("aboutComputedMenu");
null!=a&&this.menuRemoveAll(a,this.aboutComputedMenuBaseCount)});m(c$,"updateForShow",function(){-1!=this.updateMode&&(this.getViewerData(),this.updateMode=2,this.updateSpectraMenu(),this.updateAboutSubmenu())});m(c$,"show",function(a,b,c){this.thisJsvp=this.viewer.selectedPanel;this.setEnables(this.thisJsvp);-2147483648!=a&&(this.thisX=a,this.thisY=b);this.updateForShow();c&&this.menuShowPopup(this.popupMenu,this.thisX,this.thisY)},"~N,~N,~B");m(c$,"checkMenuFocus",function(a,b,c){0>a.indexOf("Focus")||
c&&this.viewer.runScript(b)},"~S,~S,~B");j(c$,"getSelected",function(){return!1},"~S");j(c$,"setCompoundMenu",function(){},"JU.List,~B");j(c$,"setEnabled",function(a,b){this.allowMenu=a;this.zoomEnabled=b;this.enableMenus()},"~B,~B");m(c$,"enableMenus",function(){this.setItemEnabled("_SIGNED_FileMenu",this.allowMenu);this.setItemEnabled("ViewMenu",null!=this.pd&&this.allowMenu);this.setItemEnabled("Open_File...",this.allowMenu);this.setItemEnabled("Open_Simulation...",this.allowMenu);this.setItemEnabled("Open_URL...",
this.allowMenu);this.setItemEnabled("Save_AsMenu",null!=this.pd&&this.allowMenu);this.setItemEnabled("Export_AsMenu",null!=this.pd&&this.allowMenu);this.setItemEnabled("Append_File...",null!=this.pd&&this.allowMenu);this.setItemEnabled("Append_Simulation...",null!=this.pd&&this.allowMenu);this.setItemEnabled("Append_URL...",null!=this.pd&&this.allowMenu);this.setItemEnabled("Views...",null!=this.pd&&this.allowMenu);this.setItemEnabled("Script",this.allowMenu);this.setItemEnabled("Print...",null!=
this.pd&&this.allowMenu);this.setItemEnabled("ZoomMenu",null!=this.pd&&this.zoomEnabled)});m(c$,"setEnables",function(a){this.pd=null==a?null:a.getPanelData();a=null==this.pd?null:this.pd.getSpectrum();var b=null!=this.pd&&this.pd.isShowAllStacked(),c=null!=this.pd&&this.pd.haveSelectedSpectrum();this.setItemEnabled("Integration",null!=this.pd&&this.pd.getSpectrum().canIntegrate());this.setItemEnabled("Measurements",null!=this.pd&&this.pd.hasCurrentMeasurements(JSV.common.Annotation.AType.Measurements));
this.setItemEnabled("Peaks",null!=this.pd&&this.pd.getSpectrum().is1D());this.setItemEnabled("Predicted_Solution_Colour",c&&a.canShowSolutionColor());this.setItemEnabled("Toggle_Trans/Abs",c&&a.canConvertTransAbs());this.setItemEnabled("Show_Overlay_Key",b&&1==this.pd.getNumberOfGraphSets());this.setItemEnabled("Overlay_Offset...",b);this.setItemEnabled("JDXMenu",null!=this.pd&&a.canSaveAsJDX());this.setItemEnabled("Export_AsMenu",null!=this.pd);this.enableMenus()},"JSV.api.JSVPanel");m(c$,"setItemEnabled",
function(a,b){var c=this.htMenus.get(a);null!=c&&this.menuEnable(c,b)},"~S,~B");j(c$,"setSelected",function(a,b){var c=this.htMenus.get(a);null!=c&&(this.menuEnable(c,!1),this.menuSetCheckBoxState(c,b),this.menuEnable(c,!0))},"~S,~B");O(c$,"dumpList",!1,"UPDATE_NEVER",-1,"UPDATE_ALL",0,"UPDATE_CONFIG",1,"UPDATE_SHOW",2)});s("JSV.api");C(JSV.api,"JSVAbstractMenu");s("JSV.api");v(["javajs.api.GenericMenuInterface"],"JSV.api.JSVPopupMenu",null,function(){C(JSV.api,"JSVPopupMenu",javajs.api.GenericMenuInterface)});
s("javajs.api");C(javajs.api,"GenericMenuInterface");s("JSV.popup");v(["JSV.popup.PopupResource"],"JSV.popup.JSVPopupResourceBundle",["JU.SB"],function(){c$=P(JSV.popup,"JSVPopupResourceBundle",JSV.popup.PopupResource);j(c$,"getMenuName",function(){return"appMenu"});j(c$,"buildStructure",function(){this.addItems(JSV.popup.JSVPopupResourceBundle.menuContents);this.addItems(JSV.popup.JSVPopupResourceBundle.structureContents)});j(c$,"getWordContents",function(){return[]});j(c$,"getMenuAsText",function(a){return"# Jmol.mnu "+
a+"\n\n# Part I -- Menu Structure\n# ------------------------\n\n"+this.dumpStructure(JSV.popup.JSVPopupResourceBundle.menuContents)+"\n\n# Part II -- Key Definitions\n# --------------------------\n\n"+this.dumpStructure(JSV.popup.JSVPopupResourceBundle.structureContents)+"\n\n# Part III -- Word Translations\n# -----------------------------\n\n"+this.dumpWords()},"~S");m(c$,"dumpWords",function(){for(var a=this.getWordContents(),b=new JU.SB,c=0;c<a.length;c++){var d=a[c++];null==this.structure.getProperty(d)&&
b.append(d).append(" | ").append(a[c]).appendC("\n")}return b.toString()});m(c$,"dumpStructure",function(a){for(var b="",c=new JU.SB,d=0;d<a.length;d++){var e=a[d][0],f=this.words.getProperty(e);null!=f&&(e+=" | "+f);c.append(e).append(" = ").append(null==a[d][1]?b:b=a[d][1]).appendC("\n")}return c.toString()},"~A");O(c$,"menuContents",[["appMenu","_SIGNED_FileMenu Toggle_Grid Toggle_X_Axis Toggle_Y_Axis Toggle_Coordinates Reverse_Plot - Next_View Previous_View Clear_Views Reset_View Set_Zoom... - Views... Overlay_Offset... Script... - Properties"],
["appletMenu","_SIGNED_FileMenu OptionsMenu ZoomMenu Views... Overlay_Offset... - Measurements Peaks Integration Toggle_Trans/Abs Predicted_Solution_Colour - Script... - Print... - AboutMenu"],["_SIGNED_FileMenu","Open_File... Open_Simulation... Open_URL... Append_File... Append_Simulation... Append_URL... Save_AsMenu Export_AsMenu"],["Save_AsMenu","Original... JDXMenu CML XML(AnIML)"],["JDXMenu","XY DIF DIFDUP FIX PAC SQZ"],["Export_AsMenu","JPG PNG SVG PDF"],["OptionsMenu","Toggle_Grid Toggle_X_Axis Toggle_Y_Axis Toggle_Coordinates Reverse_Plot Show_Header... Show_Overlay_Key..."],
["ZoomMenu","Next_View Previous_View Reset_View Clear_Views Set_Zoom..."],["AboutMenu","VERSION"]],"structureContents",[["Open_File...","load ?"],["Open_URL...","load http://?"],["Open_Simulation...","load $?"],["Append_File...","load append ?"],["Append_URL...","load append http://?"],["Append_Simulation...",'load append $?; view "1HNMR"'],["Show_Header...","showProperties"],["Window","window"],["Show_Overlay_Key...","showKey"],["Next_View","zoom next;showMenu"],["Previous_View","zoom prev;showMenu"],
["Clear_Views","zoom clear"],["Reset_View","zoom out"],["Views...","view"],["Overlay_Offset...","stackOffsetY"],["Script...","script INLINE"],["Set_Zoom...","zoom"],["Properties","showProperties"],["Toggle_X_Axis","XSCALEON toggle;showMenu"],["Toggle_Y_Axis","YSCALEON toggle;showMenu"],["Toggle_Grid","GRIDON toggle;showMenu"],["Toggle_Coordinates","COORDINATESON toggle;showMenu"],["Reverse_Plot","REVERSEPLOT toggle;showMenu"],["Measurements","SHOWMEASUREMENTS"],["Peaks","SHOWPEAKLIST"],["Integration",
"SHOWINTEGRATION"],["Toggle_Trans/Abs","IRMODE TOGGLE"],["Predicted_Solution_Colour","GETSOLUTIONCOLOR"],["Print...","print"],["Original...","write SOURCE"],["CML","write CML"],["XML(AnIML)","write XML"],["XY","write XY"],["DIF","write DIF"],["DIFDUP","write DIFDUP"],["FIX","write FIX"],["PAC","write PAC"],["SQZ","write SQZ"],["JPG","write JPG"],["SVG","write SVG"],["PNG","write PNG"],["PDF","write PDF"]])});s("JSV.popup");v(null,"JSV.popup.PopupResource",["java.util.Properties"],function(){c$=N(function(){this.words=
this.structure=null;M(this,arguments)},JSV.popup,"PopupResource");B(c$,function(){this.structure=new java.util.Properties;this.words=new java.util.Properties;this.buildStructure()});m(c$,"getMenuAsText",function(){return null},"~S");m(c$,"getStructure",function(a){return this.structure.getProperty(a)},"~S");m(c$,"getWord",function(a){var b=this.words.getProperty(a);return null==b?a:b},"~S");m(c$,"addItems",function(a){for(var b="",c=0;c<a.length;c++){var d=a[c][1];null==d&&(d=b);b=d;this.structure.setProperty(a[c][0],
d)}},"~A")})})(Clazz,Clazz.newArray,Clazz.newBooleanArray,Clazz.newByteArray,Clazz.newCharArray,Clazz.newDoubleArray,Clazz.newFloatArray,Clazz.newIntArray,Clazz.newLongArray,Clazz.newShortArray,Clazz.prepareCallback,Clazz.decorateAsClass,Clazz.isClassDefined,Clazz.defineEnumConstant,Clazz.cloneFinals,Clazz.inheritArgs,Clazz.pu$h,Clazz.declareInterface,Clazz.declarePackage,Clazz.makeConstructor,Clazz.overrideConstructor,Clazz.load,Clazz.defineMethod,Clazz.innerTypeInstance,Clazz.instanceOf,Clazz.p0p,
Clazz.makeFunction,Clazz.superConstructor,Clazz.defineStatics,Clazz.registerSerializableFields,Clazz.declareType,Clazz.superCall,Clazz.overrideMethod,Clazz.declareAnonymous,Clazz.checkPrivateMethod,Clazz.prepareFields,Clazz.instantialize,Clazz.doubleToInt,Clazz.declarePackage,Clazz.instanceOf,Clazz.load,Clazz.instantialize,Clazz.decorateAsClass,Clazz.floatToInt,Clazz.makeConstructor,Clazz.defineEnumConstant,Clazz.exceptionOf,Clazz.newIntArray,Clazz.defineStatics,Clazz.newFloatArray,Clazz.declareType,
Clazz.prepareFields,Clazz.superConstructor,Clazz.newByteArray,Clazz.declareInterface,Clazz.p0p,Clazz.pu$h,Clazz.newShortArray,Clazz.innerTypeInstance,Clazz.isClassDefined,Clazz.prepareCallback,Clazz.newArray,Clazz.castNullAs,Clazz.floatToShort,Clazz.superCall,Clazz.decorateAsType,Clazz.newBooleanArray,Clazz.newCharArray,Clazz.implementOf,Clazz.newDoubleArray,Clazz.overrideConstructor,Clazz.supportsNativeObject,Clazz.extendedObjectMethods,Clazz.callingStackTraces,Clazz.clone,Clazz.doubleToShort,Clazz.innerFunctions,
Clazz.getInheritedLevel,Clazz.getParamsType,Clazz.isAF,Clazz.isAI,Clazz.isAS,Clazz.isASS,Clazz.isAP,Clazz.isAFloat,Clazz.isAII,Clazz.isAFF,Clazz.isAFFF,Clazz.tryToSearchAndExecute,Clazz.getStackTrace,Clazz.inheritArgs);
